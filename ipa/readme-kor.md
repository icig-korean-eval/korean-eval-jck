# 한글 문자열 IPA 변환기

- 원본 프로젝트: [stannam/hangul_to_ipa](https://github.com/stannam/hangul_to_ipa)
- 기존 프로젝트는 전사된 발음 기호가 음소 단위로 한 글자씩 출력되어 어떤 단어가 발음되는지 한눈에 알아보기 어려웠음.
- 위 문제를 해결하기 위해 단어 단위로 발음 기호가 출력되도록 변경


## 프로젝트 구조

```text
src/
├── classes.py
├── hangul_tools.py
├── hanja_tools.py
└── rules.py
tables/
```

- `src/`: 
  한글 자모 분리 및 발음 변환 규칙을 처리하는 핵심 코드들이 포함된 디렉토리입니다.

  - `classes.py`: 
    한글 단어를 자모 단위로 분리하고, 분리된 자모를 규칙에 따라 발음 기호로 변환하는 클래스들을 정의합니다.

  - `hangul_tools.py`: 
    한글과 자모 간 변환을 위한 유틸리티 함수들을 정의합니다.

  - `hanja_tools.py`: 
    문자열에 포함된 한자를 처리하는 함수들을 정의합니다.  
    *이번 프로젝트에서는 한자가 포함되지 않아 실제로는 사용되지 않았습니다.*

  - `rules.py`: 
    발음 규칙(예: 비음화, 유음화 등)을 자모열에 적용하는 함수들을 정의합니다.

- `tables/`: 
  발음 규칙 및 발음 기호 변환에 필요한 **매핑 정보**가 담긴 `.csv` 파일들이 저장된 디렉토리입니다.  
  예: 자모별 발음기호 매핑, 연음 규칙표 등


## 변경 사항

### [src/worker.py](./src/worker.py)

- **convert 함수**
  - 입력된 한글 문자열이 문장 단위로 구분될 수 있도록 단어의 위치를 문자 단위로 저장하는 딕셔너리 추가
  - 변형 결과를 사전에 구한 단어-문자 인덱스 딕셔너리를 이용해 문자 단위로 발음기호를 복원

### [src/classes.py](./src/classes.py)

- **ConversionTable**
  - **sub 함수**
    - 문자 단위로 한글-기호 변환 할 수 있도록 수정
  
- **Word**
  - **to_jamo  함수**
    - 문자열을 자모로 분리할때, 각 자모가 어떤 단어 인덱스에 해당하는지 기록하는 기능 추가


## 결과

- 적용한 발음 규칙은 다음과 같음
  - 구개음화
  - 격음화
  - 표준발음법 제23항(예외없는 경음화)
  - 자음군단순화
  - 음절말 장애음 중화
  - 공명음 사이 장애음 유성음화
- 기능 추가 전 출력
  - 입력: 나는 음성인식이 재밌어요 
  - 출력: [n ɑ n ɯ n ɯ m s ʌ ŋ i n s i ɡ i dʑ ɛ m i s* ʌ jo]
- 기능 추가 후 출력
  - 입력: 나는 음성인식이 재밌어요 
  - 출력: nɑnɯn ɯmsʌŋinsiɡi dʑɛmis*ʌjo
